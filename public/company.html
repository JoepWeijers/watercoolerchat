<!DOCTYPE html>
<html lang="en">
<head>
	<title>Have a watercooler chat online!</title>
	<script src="https://cdn.jsdelivr.net/npm/vue"></script>
	<script type="module" src="/notifications.js"></script>
	<link rel="icon" href="/favicon.ico" type="image/x-icon">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans" type="text/css" />
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Bree+Serif" type="text/css" />
	<link rel="stylesheet" type="text/css" href="/style.css"/>
</head>
<body>
    <div id="app">
        <div id="watercooler"></div>
        <div id="content">
            <h1>Have a watercooler chat online at <i>{{companyName}}</i>!</h1>
            <p>Have a random chat with your colleagues from {{companyName}}, as if you are standing by the watercooler!</p>

			<div class="messagebox">
            	<template v-if="state === 'not-in-queue'">
                    <p class="messageheader">Let's get started!</p>
                    <p>
                        <form action="javascript:void(0)">
                            <label for="userName">Enter your name (optional):</label><input type="text" name="userName" id="userName" placeholder="Anonymous" v-model.userName="userName"/><br>
                            <input type="submit" class="bigbutton" value="Put me in the queue for a chat!" v-on:click="enterQueue">
                        </form>
                    </p>
                </template>

            	<template v-if="state === 'queued'">
                    <p class="messageheader">We are looking for a chat partner</p>
                    <div class="loader">...</div>
					<br><br>
                </template>

				<template v-if="state === 'chat-ready'">
					<p class="messageheader">Chat partner found!</p>
					<p>Go to Talky.io to chat<span v-if="chatPartner"> with <i>{{chatPartner}}</i></span>: <a :href="chatUrl" target="_blank" rel="noopener">{{chatUrl}}</a>
				</template>
				<notifications-button v-if="features.includes('notifications')">
			</div>
			<p>Share this URL with your colleagues: <span style="white-space: nowrap;"><a :href="`https://have-a.watercoolerchat.online/at/${companyName}/`">https://have-a.watercoolerchat.online/at/{{companyName}}/</a></span></p>

			<template v-if="state == 'not-in-queue'">
                <h2>How it works:</h2>
                <ul>
                    <li>Decide on a moment with your colleagues to have a random chat, e.g. the typical coffee time 10am or 3pm</li>
                    <li>Share this URL with your colleagues: <span style="white-space: nowrap;"><a :href="`https://have-a.watercoolerchat.online/at/${companyName}/`">https://have-a.watercoolerchat.online/at/{{companyName}}/</a></span></li>
                    <li>Click the button to enter the queue.</li>
                    <li>We select a random colleague for you to chat with.</li>
                    <li>We'll show you both a unique link to a free <a href="https://talky.io/" target="_blank" rel="noopener">Talky</a> chatroom.</li>
                    <li>Click the link, set up your devices, and start chatting!</li>
                </ul>
            </template>
        </div>
    </div>
    <div id="footer">
        <span class="footeritem">Powered by <a href="https://topdesk.com/" target="_blank"><img src="/logo.png" class="TOPdesk-logo" alt="TOPdesk"></a> your guides to service excellence</span> -
        <span class="footeritem"><a href="mailto:info@topdesk.com" rel="noopener noreferrer">Questions?</a></span> -
        <span class="footeritem"><a href="https://www.topdesk.com/nl/privacyverklaring/" target="_blank">Privacy Policy</a></span> -
        <span class="footeritem"><a href="https://github.com/TOPdesk/watercoolerchat/" target="_blank" rel="noopener noreferrer">Source code</a></span>
    </div>
		<script type="module" src="/watercoolerchat.js"></script>
</body>
</html>
